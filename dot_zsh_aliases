# General aliases
alias sconfig="$EDITOR ~/.ssh"
alias zconfig="$EDITOR ~/.zshrc"
alias zenv="$EDITOR ~/.zshenv"
alias zplug="$EDITOR ~/.zsh_plugins"
alias zalias="$EDITOR ~/.zsh_aliases"
alias zfunc="$EDITOR ~/.zsh_functions"
alias up="topgrade -y -c --skip-notify"
alias cd="z"
alias s="ssh"
alias nv="nvim"
alias py="python3"
alias gi="git-ignore"
alias ws="wormhole send"
alias wr="wormhole receive"
alias dac="direnv allow ."
alias reload="source ~/.zshrc"

# System aliases
alias flush="sudo resolvectl flush-caches"
alias vblk="lsblk -o PATH,SIZE,RO,TYPE,FSTYPE,MOUNTPOINT,UUID,MODEL"
alias bios="systemctl reboot --firmware-setup"
alias ports="sudo lsof -i -P -n | grep LISTEN"
alias sec="fwupdmgr security"
alias kll="pkill -SIGKILL"
alias battery="sudo tlp-stat -b"
alias ram="sudo lshw -short -C memory"
alias epoch="date +%s"
alias cssl="openssl x509 -text -noout -in"

# GNU replacements
exa_params=('--git' '--classify' '--group-directories-first' '--time-style=long-iso' '--group' '--color-scale')
alias l="exa --git-ignore ${exa_params}"
alias la="exa -lha ${exa_params}"
alias ll="exa -lh ${exa_params}"
alias llm="exa -lha --sort=modified ${exa_params}"
alias ls="exa ${exa_params}"
alias lt="exa -T"
alias lx="exa -lbhHigUmuSa@"
alias cat="bat -p --paging=never --theme=base16"
alias ps="procs --sortd cpu"
alias pst="procs --tree"
alias dog="doggo --time"
alias duf="duf --sort size"
alias xg="xh get"
alias xp="xh post"
alias xd="xh delete"
alias xl="xh -d"
alias rs="rsync -auh --info=progress2"

# Dotfiles
alias cz="chezmoi"
alias cza="chezmoi add"
alias cze="chezmoi add --encrypt"
alias czr="chezmoi re-add"
alias czp="chezmoi update; chezmoi apply"

# Youtube
alias yt="yt-dlp --sponsorblock-remove default"
alias ytx="yt-dlp -x --audio-quality 0 --sponsorblock-remove intro,outro -o '%(uploader)s/%(playlist_index)s - %(title)s.%(ext)s'"

# Benchmark
alias fire="oha --latency-correction --disable-keepalive -z 30s -n 10000"
alias firec="oha --latency-correction --disable-keepalive -z 30s -n 10000 -c 500"
alias map="rustscan -b 65535 -t 1000 --ulimit 70000 -g -a"

# Git
alias g="git"
alias gcl="git clone"
alias ga="git add"
alias gaa="git add -A"
alias gp="git pull;git push"
alias gl="git pull"
alias gs="git status"
alias gb="git branch"
alias gc="git commit -m"
alias gca="git commit -a -m"
alias gco="git checkout"
alias gcp="git checkout --patch"
alias grs="git remote show origin"
alias grao="git remote add origin"
alias grau="git remote add upstream"
alias grap="git remote set-url --add --push origin"
alias gg="git stash;git pull;git stash pop"

# Go
alias gou="go get -u; go mod tidy"
alias gob="go clean; go build"
alias gor="go run"

# Docker
alias dc="docker-compose"
alias dcu="docker-compose up -d"
alias dcd="docker-compose down"
alias dcp="docker system prune -af --volumes"
alias dbl="docker build"
alias dipu="docker push"
alias dr="docker run -it"
alias dx="docker exec -it"
alias dlo="docker logs"
alias dflo="docker logs -f"

# Podman
alias pbl="podman build"
alias pcp="podman system prune -af --volumes"
alias pipu="podman push"
alias plo="podman logs"
alias pflo="podman logs -f"

# Distrobox
alias bx="distrobox"
alias bxa="distrobox assemble create --file $HOME/.config/distrobox.ini"
alias bxe="distrobox enter"
alias bxd="distrobox rm"
alias bxl="distrobox list"
alias bxu="distrobox upgrade"
alias bxx="distrobox-export --app"
alias bxnv="nvim ~/.config/distrobox.ini"

# Pyenv
alias pv="pyenv"
alias pvi="pyenv install"
alias pvu="pyenv uninstall"
alias pvg="pyenv global"
alias pvv="pyenv versions"
alias svv="source venv/bin/activate"

# Terraform
alias tf="terragrunt"
alias tfp="terragrunt apply"
alias tfa="terragrunt apply -auto-approve"
alias tfd="terragrunt destroy"
alias tfu="terragrunt init -upgrade"

# Flux
alias fl="flux"
alias flg="flux get kustomizations"
alias flw="flux get kustomizations --watch"
alias fls="flux suspend"
alias flr="flux resume"
alias fle="flux reconcile"

# Cloudflare
alias cf="flarectl --json"
alias cfz="flarectl zone dns --zone"

# Vault
alias v="vault"
alias vm="vault operator members"
alias vs="vault secrets list"
alias vt="vault list /auth/token/accessors"
alias vr="vault token revoke -accessor"
alias vg="vault kv get"
alias vout="vault token revoke -self"

# Kubernetes
alias k="kubectl"
alias kn="kubens"
alias kx="kubectx"
alias kinfo="kubectl cluster-info"
alias kk="kubectl kustomize"
alias kd="kubectl delete"
alias kdd="kubectl delete --force=true --grace-period=0"
alias ktn="kubectl top node"
alias ktp="kubectl top pod"
alias kg="kubectl get"
alias kgp="kubectl get pods"
alias kgb="kubectl get -o yaml"
alias kga="kubectl get -A"
alias ka="kubectl get pods,services,deployments,jobs,daemonset"
alias kaa="kubectl get -A pods,services,deployments,jobs,daemonset"
alias kcg="kubectl get certs,certificaterequests,order,challenges,ingress"
alias kcga="kubectl get -A certs,certificaterequests,order,challenges,ingress"
alias kl="kubectl logs"
alias kf="kubectl apply -f"
alias ke="kubectl edit"
alias kex="kubectl exec -it"
alias kb="kubectl describe"
alias kca="kubectl certificate approve"
alias kcd="kubectl certificate deny"
alias ks="kubectl get secrets -o yaml"
alias ksj="kubectl get secrets -o json"
alias kr="kubectl rollout restart deployment"
alias krs="kubectl rollout restart statefulset"
alias kp="kubectl port-forward"
alias kpa="kubectl patch -p '{\"metadata\": {\"finalizers\": null}}'"
alias kdbg="kubectl run -i --tty busybox --image=busybox --restart=Never"
alias kclean="kubectl delete pods --field-selector status.phase=Failed -A"
alias kdpv="kubectl get pv | grep Released | awk '$1 {print$1}' | while read vol; do kubectl delete pv/${vol}; done"
alias kcsrd="kubectl get csr | grep Denied | awk '{print $1;}' | xargs kubectl delete csr"

# Helm
alias h="helm"
alias hi="helm upgrade --install"
alias hu="helm uninstall"
alias hs="helm status"
alias hl="helm list"
alias hg="helm get"
alias hgv="helm get values"
alias hh="helm history"
alias hr="helm rollback"
alias hc="helm create"
alias hpk="helm package"
alias hp="helm push"
